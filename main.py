import tkinter as tk
import sys
from PIL import Image
import pygame 

with Image.open('icon.gif') as f:
	lenFrames = int(f.n_frames)
isDestroyed = False

def exit_init():
	global isDestroyed
	isDestroyed = True

text = """П-привет
Можешь п-пожалуйста, сообщить данные своей к-кредитной карточки?"""

screen = tk.Tk()
screen.geometry("650x250")
screen.columnconfigure(0, weight=1, minsize=250)
screen.columnconfigure(1, weight=1, minsize=400)
screen.rowconfigure(0, weight=1, minsize=200)

frames = [
    tk.PhotoImage(file="icon.gif", format=f"gif -index {i}")
    for i in range(lenFrames)
]

fae1 = tk.Frame(bg="black")
#fae1.pack(fill=tk.Y,side=tk.LEFT, expand=True)
fae1.grid(row=0, column=0, sticky="nsew")

fae2 = tk.Frame()
#fae2.pack(fill=tk.Y,side=tk.RIGHT, expand=True)
fae2.grid(row=0, column=1, sticky="nsew")

lbl1 = tk.Label(fae2, text=text, font=("Arial", 8))
lbl1.pack(fill=tk.X)

lbl2 = tk.Label(fae1)
lbl2.pack(fill=tk.BOTH)

screen.protocol('WM_DELETE_WINDOW', exit_init)
screen.update()

ind=0
clock = pygame.time.Clock()
reverse = False

while True:
	if isDestroyed:
		sys.exit()

	frame = frames[ind]
	ind += 1
	
	if ind >= lenFrames:  # With this condition it will play gif infinitely
		ind = 1
	
	lbl2.configure(image=frame)

	screen.update() 
	clock.tick(15) 